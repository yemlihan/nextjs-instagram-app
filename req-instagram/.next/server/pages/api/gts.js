"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/gts";
exports.ids = ["pages/api/gts"];
exports.modules = {

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./src/pages/api/gts.js":
/*!******************************!*\
  !*** ./src/pages/api/gts.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction handler(req, res) {\n    if (req.method === \"GET\") {\n        const getFollowers = ()=>{\n            return new Promise((resolve, reject)=>{\n                const jsonFilesFollowers = [];\n                fs__WEBPACK_IMPORTED_MODULE_0___default().readdir(\"./uploads\", (err, files)=>{\n                    if (err) {\n                        return reject(err);\n                    }\n                    files.forEach((file)=>{\n                        if (path__WEBPACK_IMPORTED_MODULE_1___default().extname(file) === \".json\" && file === \"followers_1.json\") {\n                            const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(\"./uploads\", file);\n                            const jsonData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n                            const jsonDataParsed = JSON.parse(jsonData);\n                            const newArr = [];\n                            newArr.push(jsonDataParsed);\n                            const newJsonData = newArr.map((item)=>{\n                                return item.string_list_data;\n                            });\n                            newJsonData.map((item)=>{\n                                jsonFilesFollowers.push(item[0]);\n                            });\n                        }\n                    });\n                    resolve(jsonFilesFollowers);\n                });\n            });\n        };\n        const getFollowing = ()=>{\n            return new Promise((resolve, reject)=>{\n                const jsonFilesFollowing = [];\n                fs__WEBPACK_IMPORTED_MODULE_0___default().readdir(\"./uploads\", (err, files)=>{\n                    if (err) {\n                        return reject(err);\n                    }\n                    files.forEach((file)=>{\n                        if (path__WEBPACK_IMPORTED_MODULE_1___default().extname(file) === \".json\" && file === \"following.json\") {\n                            const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(\"./uploads\", file);\n                            const jsonData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n                            const followings = JSON.parse(jsonData).relationships_following;\n                            const newJsonData = followings.map((item)=>{\n                                return item.string_list_data;\n                            });\n                            newJsonData.map((item)=>{\n                                jsonFilesFollowing.push(item[0]);\n                            });\n                        }\n                    });\n                    resolve(jsonFilesFollowing);\n                });\n            });\n        };\n        Promise.all([\n            getFollowers(),\n            getFollowing()\n        ]).then((results)=>{\n            if (results[0].length > 0 && results[1].length > 0) {\n                const followers = results[0];\n                const following = results[1];\n                const allUsers = [\n                    ...followers,\n                    ...following\n                ];\n                return res.status(200).send(allUsers);\n            } else {\n                return res.status(200).send({\n                    message: \"null upload folder\"\n                });\n            }\n        }).catch((err)=>{\n            console.error(err);\n        });\n    } else {\n    // return res.status(405).json({message: \"Method not allowed!\"})\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2d0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQjtBQUNJO0FBRVQsU0FBU0UsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQ3RDLElBQUlELElBQUlFLFdBQVcsT0FBTztRQUN4QixNQUFNQyxlQUFlO1lBQ25CLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztnQkFDM0IsTUFBTUMscUJBQXFCLEVBQUU7Z0JBQzdCVixpREFBVVcsQ0FBQyxhQUFhLENBQUNDLEtBQUtDO29CQUM1QixJQUFJRCxLQUFLO3dCQUNQLE9BQU9ILE9BQU9HO29CQUNoQjtvQkFDQUMsTUFBTUMsUUFBUSxDQUFDQzt3QkFDYixJQUFJZCxtREFBWWUsQ0FBQ0QsVUFBVSxXQUFXQSxTQUFTLG9CQUFvQjs0QkFDakUsTUFBTUUsV0FBV2hCLGdEQUFTaUIsQ0FBQyxhQUFhSDs0QkFDeEMsTUFBTUksV0FBV25CLHNEQUFlb0IsQ0FBQ0gsVUFBVTs0QkFDM0MsTUFBTUksaUJBQWlCQyxLQUFLQyxNQUFNSjs0QkFDbEMsTUFBTUssU0FBUyxFQUFFOzRCQUNqQkEsT0FBT0MsS0FBS0o7NEJBQ1osTUFBTUssY0FBY0YsT0FBT0csSUFBSSxDQUFDQztnQ0FDOUIsT0FBT0EsS0FBS0M7NEJBQ2Q7NEJBQ0FILFlBQVlDLElBQUksQ0FBQ0M7Z0NBQ2ZsQixtQkFBbUJlLEtBQUtHLElBQUksQ0FBQyxFQUFFOzRCQUNqQzt3QkFDRjtvQkFDRjtvQkFDQXBCLFFBQVFFO2dCQUNWO1lBQ0Y7UUFDRjtRQUVBLE1BQU1vQixlQUFlO1lBQ25CLE9BQU8sSUFBSXZCLFFBQVEsQ0FBQ0MsU0FBU0M7Z0JBQzNCLE1BQU1zQixxQkFBcUIsRUFBRTtnQkFDN0IvQixpREFBVVcsQ0FBQyxhQUFhLENBQUNDLEtBQUtDO29CQUM1QixJQUFJRCxLQUFLO3dCQUNQLE9BQU9ILE9BQU9HO29CQUNoQjtvQkFDQUMsTUFBTUMsUUFBUSxDQUFDQzt3QkFDYixJQUFJZCxtREFBWWUsQ0FBQ0QsVUFBVSxXQUFXQSxTQUFTLGtCQUFrQjs0QkFDL0QsTUFBTUUsV0FBV2hCLGdEQUFTaUIsQ0FBQyxhQUFhSDs0QkFDeEMsTUFBTUksV0FBV25CLHNEQUFlb0IsQ0FBQ0gsVUFBVTs0QkFDM0MsTUFBTWUsYUFBYVYsS0FBS0MsTUFBTUosVUFBVWM7NEJBQ3hDLE1BQU1QLGNBQWNNLFdBQVdMLElBQUksQ0FBQ0M7Z0NBQ2xDLE9BQU9BLEtBQUtDOzRCQUNkOzRCQUNBSCxZQUFZQyxJQUFJLENBQUNDO2dDQUNmRyxtQkFBbUJOLEtBQUtHLElBQUksQ0FBQyxFQUFFOzRCQUNqQzt3QkFDRjtvQkFDRjtvQkFDQXBCLFFBQVF1QjtnQkFDVjtZQUNGO1FBQ0Y7UUFFQXhCLFFBQVEyQixJQUFJO1lBQUM1QjtZQUFnQndCO1NBQWUsRUFDekNLLEtBQUssQ0FBQ0M7WUFDTCxJQUFJQSxPQUFPLENBQUMsRUFBRSxDQUFDQyxTQUFTLEtBQUtELE9BQU8sQ0FBQyxFQUFFLENBQUNDLFNBQVMsR0FBRztnQkFDbEQsTUFBTUMsWUFBWUYsT0FBTyxDQUFDLEVBQUU7Z0JBQzVCLE1BQU1HLFlBQVlILE9BQU8sQ0FBQyxFQUFFO2dCQUM1QixNQUFNSSxXQUFXO3VCQUFJRjt1QkFBY0M7aUJBQVU7Z0JBQzdDLE9BQU9uQyxJQUFJcUMsT0FBTyxLQUFLQyxLQUFLRjtZQUM5QixPQUFPO2dCQUNMLE9BQU9wQyxJQUFJcUMsT0FBTyxLQUFLQyxLQUFLO29CQUFFQyxTQUFTO2dCQUFxQjtZQUM5RDtRQUNGLEdBQ0NDLE1BQU0sQ0FBQ2hDO1lBQ05pQyxRQUFRQyxNQUFNbEM7UUFDaEI7SUFDSixPQUFPO0lBQ0wsZ0VBQWdFO0lBQ2xFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZXEtaW5zdGFncmFtLy4vc3JjL3BhZ2VzL2FwaS9ndHMuanM/YWQwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgY29uc3QgZ2V0Rm9sbG93ZXJzID0gKCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QganNvbkZpbGVzRm9sbG93ZXJzID0gW107XG4gICAgICAgIGZzLnJlYWRkaXIoXCIuL3VwbG9hZHNcIiwgKGVyciwgZmlsZXMpID0+IHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbGVzLmZvckVhY2goKGZpbGUpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXRoLmV4dG5hbWUoZmlsZSkgPT09IFwiLmpzb25cIiAmJiBmaWxlID09PSBcImZvbGxvd2Vyc18xLmpzb25cIikge1xuICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihcIi4vdXBsb2Fkc1wiLCBmaWxlKTtcbiAgICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmLThcIik7XG4gICAgICAgICAgICAgIGNvbnN0IGpzb25EYXRhUGFyc2VkID0gSlNPTi5wYXJzZShqc29uRGF0YSk7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0FyciA9IFtdO1xuICAgICAgICAgICAgICBuZXdBcnIucHVzaChqc29uRGF0YVBhcnNlZCk7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0pzb25EYXRhID0gbmV3QXJyLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnN0cmluZ19saXN0X2RhdGE7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBuZXdKc29uRGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBqc29uRmlsZXNGb2xsb3dlcnMucHVzaChpdGVtWzBdKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzb2x2ZShqc29uRmlsZXNGb2xsb3dlcnMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRGb2xsb3dpbmcgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBqc29uRmlsZXNGb2xsb3dpbmcgPSBbXTtcbiAgICAgICAgZnMucmVhZGRpcihcIi4vdXBsb2Fkc1wiLCAoZXJyLCBmaWxlcykgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhdGguZXh0bmFtZShmaWxlKSA9PT0gXCIuanNvblwiICYmIGZpbGUgPT09IFwiZm9sbG93aW5nLmpzb25cIikge1xuICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihcIi4vdXBsb2Fkc1wiLCBmaWxlKTtcbiAgICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmLThcIik7XG4gICAgICAgICAgICAgIGNvbnN0IGZvbGxvd2luZ3MgPSBKU09OLnBhcnNlKGpzb25EYXRhKS5yZWxhdGlvbnNoaXBzX2ZvbGxvd2luZztcbiAgICAgICAgICAgICAgY29uc3QgbmV3SnNvbkRhdGEgPSBmb2xsb3dpbmdzLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnN0cmluZ19saXN0X2RhdGE7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBuZXdKc29uRGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBqc29uRmlsZXNGb2xsb3dpbmcucHVzaChpdGVtWzBdKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzb2x2ZShqc29uRmlsZXNGb2xsb3dpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBQcm9taXNlLmFsbChbZ2V0Rm9sbG93ZXJzKCksIGdldEZvbGxvd2luZygpXSlcbiAgICAgIC50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHRzWzBdLmxlbmd0aCA+IDAgJiYgcmVzdWx0c1sxXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZm9sbG93ZXJzID0gcmVzdWx0c1swXTtcbiAgICAgICAgICBjb25zdCBmb2xsb3dpbmcgPSByZXN1bHRzWzFdO1xuICAgICAgICAgIGNvbnN0IGFsbFVzZXJzID0gWy4uLmZvbGxvd2VycywgLi4uZm9sbG93aW5nXTtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoYWxsVXNlcnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7IG1lc3NhZ2U6IFwibnVsbCB1cGxvYWQgZm9sZGVyXCIgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oe21lc3NhZ2U6IFwiTWV0aG9kIG5vdCBhbGxvd2VkIVwifSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJnZXRGb2xsb3dlcnMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImpzb25GaWxlc0ZvbGxvd2VycyIsInJlYWRkaXIiLCJlcnIiLCJmaWxlcyIsImZvckVhY2giLCJmaWxlIiwiZXh0bmFtZSIsImZpbGVQYXRoIiwiam9pbiIsImpzb25EYXRhIiwicmVhZEZpbGVTeW5jIiwianNvbkRhdGFQYXJzZWQiLCJKU09OIiwicGFyc2UiLCJuZXdBcnIiLCJwdXNoIiwibmV3SnNvbkRhdGEiLCJtYXAiLCJpdGVtIiwic3RyaW5nX2xpc3RfZGF0YSIsImdldEZvbGxvd2luZyIsImpzb25GaWxlc0ZvbGxvd2luZyIsImZvbGxvd2luZ3MiLCJyZWxhdGlvbnNoaXBzX2ZvbGxvd2luZyIsImFsbCIsInRoZW4iLCJyZXN1bHRzIiwibGVuZ3RoIiwiZm9sbG93ZXJzIiwiZm9sbG93aW5nIiwiYWxsVXNlcnMiLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/gts.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/gts.js"));
module.exports = __webpack_exports__;

})();