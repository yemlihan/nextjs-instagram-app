"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/gts";
exports.ids = ["pages/api/gts"];
exports.modules = {

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./src/pages/api/gts.js":
/*!******************************!*\
  !*** ./src/pages/api/gts.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction handler(req, res) {\n    if (req.method === \"GET\") {\n        const getFollowers = ()=>{\n            return new Promise((resolve, reject)=>{\n                const jsonFilesFollowers = [];\n                fs__WEBPACK_IMPORTED_MODULE_0___default().readdir(path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"uploads\"), (err, files)=>{\n                    if (err) {\n                        return reject(err);\n                    }\n                    files.forEach((file)=>{\n                        if (path__WEBPACK_IMPORTED_MODULE_1___default().extname(file) === \".json\" && file === \"followers_1.json\") {\n                            const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"uploads\", file);\n                            const jsonData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n                            const jsonDataParsed = JSON.parse(jsonData);\n                            const newArr = [];\n                            newArr.push(jsonDataParsed);\n                            const newJsonData = newArr.map((item)=>{\n                                return item.string_list_data;\n                            });\n                            newJsonData.map((item)=>{\n                                jsonFilesFollowers.push(item[0]);\n                            });\n                        }\n                    });\n                    resolve(jsonFilesFollowers);\n                });\n            });\n        };\n        const getFollowing = ()=>{\n            return new Promise((resolve, reject)=>{\n                const jsonFilesFollowing = [];\n                fs__WEBPACK_IMPORTED_MODULE_0___default().readdir(path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"uploads\"), (err, files)=>{\n                    if (err) {\n                        return reject(err);\n                    }\n                    files.forEach((file)=>{\n                        if (path__WEBPACK_IMPORTED_MODULE_1___default().extname(file) === \".json\" && file === \"following.json\") {\n                            const filePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"uploads\", file);\n                            const jsonData = fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, \"utf-8\");\n                            const followings = JSON.parse(jsonData).relationships_following;\n                            const newJsonData = followings.map((item)=>{\n                                return item.string_list_data;\n                            });\n                            newJsonData.map((item)=>{\n                                jsonFilesFollowing.push(item[0]);\n                            });\n                        }\n                    });\n                    resolve(jsonFilesFollowing);\n                });\n            });\n        };\n        Promise.all([\n            getFollowers(),\n            getFollowing()\n        ]).then((results)=>{\n            if (results[0].length > 0 && results[1].length > 0) {\n                const followers = results[0];\n                const following = results[1];\n                const allUsers = [\n                    ...followers,\n                    ...following\n                ];\n                return res.status(200).send(allUsers);\n            } else {\n                return res.status(200).send({\n                    message: \"null upload folder\"\n                });\n            }\n        }).catch((err)=>{\n            console.error(err);\n        });\n    } else {\n    // return res.status(405).json({message: \"Method not allowed!\"})\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2d0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFvQjtBQUNJO0FBRVQsU0FBU0UsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQ3RDLElBQUlELElBQUlFLFdBQVcsT0FBTztRQUN4QixNQUFNQyxlQUFlO1lBQ25CLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztnQkFDM0IsTUFBTUMscUJBQXFCLEVBQUU7Z0JBQzdCVixpREFBVVcsQ0FBQ1YsZ0RBQVNXLENBQUNDLFFBQVFDLE9BQU8sWUFBWSxDQUFDQyxLQUFLQztvQkFDcEQsSUFBSUQsS0FBSzt3QkFDUCxPQUFPTixPQUFPTTtvQkFDaEI7b0JBQ0FDLE1BQU1DLFFBQVEsQ0FBQ0M7d0JBQ2IsSUFBSWpCLG1EQUFZa0IsQ0FBQ0QsVUFBVSxXQUFXQSxTQUFTLG9CQUFvQjs0QkFDakUsTUFBTUUsV0FBV25CLGdEQUFTVyxDQUFDQyxRQUFRQyxPQUFPLFdBQVdJOzRCQUNyRCxNQUFNRyxXQUFXckIsc0RBQWVzQixDQUFDRixVQUFVOzRCQUMzQyxNQUFNRyxpQkFBaUJDLEtBQUtDLE1BQU1KOzRCQUNsQyxNQUFNSyxTQUFTLEVBQUU7NEJBQ2pCQSxPQUFPQyxLQUFLSjs0QkFDWixNQUFNSyxjQUFjRixPQUFPRyxJQUFJLENBQUNDO2dDQUM5QixPQUFPQSxLQUFLQzs0QkFDZDs0QkFDQUgsWUFBWUMsSUFBSSxDQUFDQztnQ0FDZnBCLG1CQUFtQmlCLEtBQUtHLElBQUksQ0FBQyxFQUFFOzRCQUNqQzt3QkFDRjtvQkFDRjtvQkFDQXRCLFFBQVFFO2dCQUNWO1lBQ0Y7UUFDRjtRQUVBLE1BQU1zQixlQUFlO1lBQ25CLE9BQU8sSUFBSXpCLFFBQVEsQ0FBQ0MsU0FBU0M7Z0JBQzNCLE1BQU13QixxQkFBcUIsRUFBRTtnQkFDN0JqQyxpREFBVVcsQ0FBQ1YsZ0RBQVNXLENBQUNDLFFBQVFDLE9BQU8sWUFBWSxDQUFDQyxLQUFLQztvQkFDcEQsSUFBSUQsS0FBSzt3QkFDUCxPQUFPTixPQUFPTTtvQkFDaEI7b0JBQ0FDLE1BQU1DLFFBQVEsQ0FBQ0M7d0JBQ2IsSUFBSWpCLG1EQUFZa0IsQ0FBQ0QsVUFBVSxXQUFXQSxTQUFTLGtCQUFrQjs0QkFDL0QsTUFBTUUsV0FBV25CLGdEQUFTVyxDQUFDQyxRQUFRQyxPQUFPLFdBQVdJOzRCQUNyRCxNQUFNRyxXQUFXckIsc0RBQWVzQixDQUFDRixVQUFVOzRCQUMzQyxNQUFNYyxhQUFhVixLQUFLQyxNQUFNSixVQUFVYzs0QkFDeEMsTUFBTVAsY0FBY00sV0FBV0wsSUFBSSxDQUFDQztnQ0FDbEMsT0FBT0EsS0FBS0M7NEJBQ2Q7NEJBQ0FILFlBQVlDLElBQUksQ0FBQ0M7Z0NBQ2ZHLG1CQUFtQk4sS0FBS0csSUFBSSxDQUFDLEVBQUU7NEJBQ2pDO3dCQUNGO29CQUNGO29CQUNBdEIsUUFBUXlCO2dCQUNWO1lBQ0Y7UUFDRjtRQUVBMUIsUUFBUTZCLElBQUk7WUFBQzlCO1lBQWdCMEI7U0FBZSxFQUN6Q0ssS0FBSyxDQUFDQztZQUNMLElBQUlBLE9BQU8sQ0FBQyxFQUFFLENBQUNDLFNBQVMsS0FBS0QsT0FBTyxDQUFDLEVBQUUsQ0FBQ0MsU0FBUyxHQUFHO2dCQUNsRCxNQUFNQyxZQUFZRixPQUFPLENBQUMsRUFBRTtnQkFDNUIsTUFBTUcsWUFBWUgsT0FBTyxDQUFDLEVBQUU7Z0JBQzVCLE1BQU1JLFdBQVc7dUJBQUlGO3VCQUFjQztpQkFBVTtnQkFDN0MsT0FBT3JDLElBQUl1QyxPQUFPLEtBQUtDLEtBQUtGO1lBQzlCLE9BQU87Z0JBQ0wsT0FBT3RDLElBQUl1QyxPQUFPLEtBQUtDLEtBQUs7b0JBQUVDLFNBQVM7Z0JBQXFCO1lBQzlEO1FBQ0YsR0FDQ0MsTUFBTSxDQUFDL0I7WUFDTmdDLFFBQVFDLE1BQU1qQztRQUNoQjtJQUNKLE9BQU87SUFDTCxnRUFBZ0U7SUFDbEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlcS1pbnN0YWdyYW0vLi9zcmMvcGFnZXMvYXBpL2d0cy5qcz9hZDA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICBjb25zdCBnZXRGb2xsb3dlcnMgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBqc29uRmlsZXNGb2xsb3dlcnMgPSBbXTtcbiAgICAgICAgZnMucmVhZGRpcihwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJ1cGxvYWRzXCIpLCAoZXJyLCBmaWxlcykgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhdGguZXh0bmFtZShmaWxlKSA9PT0gXCIuanNvblwiICYmIGZpbGUgPT09IFwiZm9sbG93ZXJzXzEuanNvblwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFwidXBsb2Fkc1wiLCBmaWxlKTtcbiAgICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmlsZVBhdGgsIFwidXRmLThcIik7XG4gICAgICAgICAgICAgIGNvbnN0IGpzb25EYXRhUGFyc2VkID0gSlNPTi5wYXJzZShqc29uRGF0YSk7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0FyciA9IFtdO1xuICAgICAgICAgICAgICBuZXdBcnIucHVzaChqc29uRGF0YVBhcnNlZCk7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0pzb25EYXRhID0gbmV3QXJyLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnN0cmluZ19saXN0X2RhdGE7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBuZXdKc29uRGF0YS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBqc29uRmlsZXNGb2xsb3dlcnMucHVzaChpdGVtWzBdKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzb2x2ZShqc29uRmlsZXNGb2xsb3dlcnMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBjb25zdCBnZXRGb2xsb3dpbmcgPSAoKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCBqc29uRmlsZXNGb2xsb3dpbmcgPSBbXTtcbiAgICAgICAgZnMucmVhZGRpcihwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgXCJ1cGxvYWRzXCIpLCAoZXJyLCBmaWxlcykgPT4ge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBhdGguZXh0bmFtZShmaWxlKSA9PT0gXCIuanNvblwiICYmIGZpbGUgPT09IFwiZm9sbG93aW5nLmpzb25cIikge1xuICAgICAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcInVwbG9hZHNcIiwgZmlsZSk7XG4gICAgICAgICAgICAgIGNvbnN0IGpzb25EYXRhID0gZnMucmVhZEZpbGVTeW5jKGZpbGVQYXRoLCBcInV0Zi04XCIpO1xuICAgICAgICAgICAgICBjb25zdCBmb2xsb3dpbmdzID0gSlNPTi5wYXJzZShqc29uRGF0YSkucmVsYXRpb25zaGlwc19mb2xsb3dpbmc7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0pzb25EYXRhID0gZm9sbG93aW5ncy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5zdHJpbmdfbGlzdF9kYXRhO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbmV3SnNvbkRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAganNvbkZpbGVzRm9sbG93aW5nLnB1c2goaXRlbVswXSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc29sdmUoanNvbkZpbGVzRm9sbG93aW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgUHJvbWlzZS5hbGwoW2dldEZvbGxvd2VycygpLCBnZXRGb2xsb3dpbmcoKV0pXG4gICAgICAudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICBpZiAocmVzdWx0c1swXS5sZW5ndGggPiAwICYmIHJlc3VsdHNbMV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGZvbGxvd2VycyA9IHJlc3VsdHNbMF07XG4gICAgICAgICAgY29uc3QgZm9sbG93aW5nID0gcmVzdWx0c1sxXTtcbiAgICAgICAgICBjb25zdCBhbGxVc2VycyA9IFsuLi5mb2xsb3dlcnMsIC4uLmZvbGxvd2luZ107XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKGFsbFVzZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoeyBtZXNzYWdlOiBcIm51bGwgdXBsb2FkIGZvbGRlclwiIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHttZXNzYWdlOiBcIk1ldGhvZCBub3QgYWxsb3dlZCFcIn0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiZ2V0Rm9sbG93ZXJzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJqc29uRmlsZXNGb2xsb3dlcnMiLCJyZWFkZGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJlcnIiLCJmaWxlcyIsImZvckVhY2giLCJmaWxlIiwiZXh0bmFtZSIsImZpbGVQYXRoIiwianNvbkRhdGEiLCJyZWFkRmlsZVN5bmMiLCJqc29uRGF0YVBhcnNlZCIsIkpTT04iLCJwYXJzZSIsIm5ld0FyciIsInB1c2giLCJuZXdKc29uRGF0YSIsIm1hcCIsIml0ZW0iLCJzdHJpbmdfbGlzdF9kYXRhIiwiZ2V0Rm9sbG93aW5nIiwianNvbkZpbGVzRm9sbG93aW5nIiwiZm9sbG93aW5ncyIsInJlbGF0aW9uc2hpcHNfZm9sbG93aW5nIiwiYWxsIiwidGhlbiIsInJlc3VsdHMiLCJsZW5ndGgiLCJmb2xsb3dlcnMiLCJmb2xsb3dpbmciLCJhbGxVc2VycyIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/gts.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./src/pages/api/gts.js"));
module.exports = __webpack_exports__;

})();